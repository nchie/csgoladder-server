var bookshelf = require('../config').bookshelf;

var Team = require('./Team');
var Usergroup = require('./Usergroup');
var TeamInvite = require('./TeamInvite');

var User = bookshelf.Model.extend({
	tableName: 'user',
	team: function() {
		return this.belongsTo('Team');
	},
	usergroup: function() {
		return this.belongsTo('Usergroup');
	},

	teaminvites: function() {
		return this.belongsToMany('Team').through('TeamInvite');
	}
});

module.exports = bookshelf.model('User', User);